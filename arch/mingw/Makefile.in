#
# mingw makefile generics
#

CC      = ${MINGWBASE}gcc
CXX     = ${MINGWBASE}g++
AR      = ${MINGWBASE}ar
OBJCOPY = ${MINGWBASE}objcopy
STRIP   = ${MINGWBASE}strip --strip-unneeded
WINDRES = ${MINGWBASE}windres

BINEXT  = .exe
DSOPOST = .dll

# OpenGL must be linked to MZX
core_flags   += -DLINK_OPENGL
core_ldflags += -lopengl32

# Windows needs PNG to be statically linked (inc. zlib)
LIBPNG_LDFLAGS = `libpng12-config --static --libs`

# MZX uses lots of globals that need to be imported when using DLLs
LINK_CC_FLAGS = -Wl,--enable-auto-import

# debug does something different
ifdef DEBUG
core_ldflags += -mconsole
else
core_ldflags += -mwindows
endif
