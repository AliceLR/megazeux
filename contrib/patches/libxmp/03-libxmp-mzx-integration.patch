diff --git a/include/xmp.h b/include/xmp.h
index 8ec6deeb..4daa268b 100644
--- a/include/xmp.h
+++ b/include/xmp.h
@@ -1,6 +1,22 @@
 #ifndef XMP_H
 #define XMP_H
 
+/* Suppress unwanted debug messages */
+#ifdef DEBUG
+#undef DEBUG
+#define MEGAZEUX_DEBUG
+#endif
+
+/* Force libxmp to build static */
+#ifndef BUILDING_STATIC
+#define BUILDING_STATIC
+#endif
+
+/* Force libxmp to not use versioned symbols on Linux */
+#ifdef XMP_SYM_VISIBILITY
+#undef XMP_SYM_VISIBILITY
+#endif
+
 #ifdef __cplusplus
 extern "C" {
 #endif
diff --git a/src/common.h b/src/common.h
index 65a9f57f..9aa26a7e 100644
--- a/src/common.h
+++ b/src/common.h
@@ -145,12 +145,6 @@ void __inline CLIB_DECL D_(const char *text, ...) { do {} while (0); }
 #define close _close
 #define unlink _unlink
 #endif
-#if defined(_WIN32) || defined(__WATCOMC__) /* in win32.c */
-int libxmp_vsnprintf(char *, size_t, const char *, va_list);
-int libxmp_snprintf (char *, size_t, const char *, ...);
-#define snprintf  libxmp_snprintf
-#define vsnprintf libxmp_vsnprintf
-#endif
 
 /* Quirks */
 #define QUIRK_S3MLOOP	(1 << 0)	/* S3M loop mode */
